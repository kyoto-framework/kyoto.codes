 Index

- [type Value](<#type-value>)
  - [func NewValue[T any](defaultval T) *Value[T]](<#func-newvalue>)
  - [func (a *Value[T]) Context(c func(value T, set func(value T)))](<#func-valuet-context>)
  - [func (a *Value[T]) Get() T](<#func-valuet-get>)
  - [func (a *Value[T]) Set(value T)](<#func-valuet-set>)


## type [Value](<https://github.com/kyoto-framework/zen/blob/master/tmp/zen/atomicx/value.go#L21-L24>)

Value is an atomic value holder, which have internal rwmutex to avoid concurrent writes.

Usage:

```
// Actually, we have a NewValue() constructor,
// but let's show how to use a Value without it.
val := &Value[int]{}
val.Set(1)
if val.Get() == 1 {
	log.Println("value is 1")
}
```

```go
type Value[T any] struct {
    // contains filtered or unexported fields
}
```

### func [NewValue](<https://github.com/kyoto-framework/zen/blob/master/tmp/zen/atomicx/value.go#L64>)

```go
func NewValue[T any](defaultval T) *Value[T]
```

NewValue is a constructor of Value, which accepts default value.

### func \(\*Value\[T\]\) [Context](<https://github.com/kyoto-framework/zen/blob/master/tmp/zen/atomicx/value.go#L49>)

```go
func (a *Value[T]) Context(c func(value T, set func(value T)))
```

Context locks value mutex and executes provided function with releasing lock in the end.

### func \(\*Value\[T\]\) [Get](<https://github.com/kyoto-framework/zen/blob/master/tmp/zen/atomicx/value.go#L29>)

```go
func (a *Value[T]) Get() T
```

Get locks value mutex and returns current value.

### func \(\*Value\[T\]\) [Set](<https://github.com/kyoto-framework/zen/blob/master/tmp/zen/atomicx/value.go#L39>)

```go
func (a *Value[T]) Set(value T)
```

Set locks value mutex and sets current value.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
